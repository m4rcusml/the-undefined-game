<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>codeBreaker</title>
  <link rel="icon" type="image/x-icon" href="/src/assets/favicon.svg">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.86.0/phaser.min.js"></script>
  <style>
    /* esse style todo faz com que o jogo fique centralizado e ocupe sempre o maior espaço possível */
    body {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #222222;
      overflow: hidden;
      width: 100vw;
    }

    canvas {
      max-height: 100vh;
      max-width: 100vw;
    }
  </style>
</head>

<body>
  <script>
    /**
     * essa tag script inicial cria variaveis que serão usadas por todas as cenas do jogo
     * como o gameState que guardará o estado geral do jogo, como som geral, etc
     * e bgPosition que será usada para controlar a posição do background para manter o efeito parallax entre as telas
     */
    const gameState = JSON.parse(localStorage.getItem('gameState')) || {
      generalSound: 100,
      music: 100
    }
    let bgPosition = { fisrtLayer: 0, secondLayer: 0 }

    function fadeToScene(targetScene) {
      this.cameras.main.fadeOut(1000, 0, 0, 0) // 1 sec fade to black

      this.cameras.main.once('camerafadeoutcomplete', () => {
        this.scene.start(targetScene)
      })
    }
  </script>
  
  <!-- importa os arquivos das cenas e das entidades (player, etc) do phaser -->
  <script src="src/entities/player.js"></script>
  <script src="src/scenes/templateScene.js"></script>
  <script src="src/scenes/plataformScene.js"></script>
  <script src="src/scenes/levelSelectorScene.js"></script>
  <script src="src/scenes/optionsScene.js"></script>
  <script src="src/scenes/menuScene.js"></script>

  <!-- o script.js tem o config do phaser, ele deve ficar em ultimo para não dar erro -->
  <script src="src/script.js"></script>
</body>

</html>